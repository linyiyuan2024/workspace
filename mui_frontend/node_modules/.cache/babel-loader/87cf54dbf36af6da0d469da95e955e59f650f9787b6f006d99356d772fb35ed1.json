{"ast":null,"code":"var _jsxFileName = \"/workspace/mui_frontend/src/pages/DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Box, Typography, Button, Avatar, Paper, List, ListItem, ListItemText, ListItemAvatar, Divider } from '@mui/material';\nimport axios from 'axios';\nimport config from '../config/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DashboardPage() {\n  _s();\n  var _userInfo$username;\n  const [userInfo, setUserInfo] = useState(null);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(`${config.apiBaseUrl}/auth_api.php?action=user_info`);\n        if (response.data.success) {\n          setUserInfo(response.data.user);\n        } else {\n          navigate(config.routes.login);\n        }\n      } catch (err) {\n        navigate(config.routes.login);\n      }\n    };\n    fetchUserInfo();\n  }, [navigate]);\n  const handleLogout = async () => {\n    try {\n      await axios.post(`${config.apiBaseUrl}/auth_api.php?action=logout`);\n      localStorage.removeItem(config.authTokenKey);\n      navigate(config.routes.login);\n    } catch (err) {\n      setError('Logout failed');\n    }\n  };\n  if (!userInfo) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 4,\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: [\"Welcome to \", config.appName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        mt: 4,\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: [/*#__PURE__*/_jsxDEV(ListItem, {\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              children: (_userInfo$username = userInfo.username) === null || _userInfo$username === void 0 ? void 0 : _userInfo$username.charAt(0).toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Username\",\n            secondary: userInfo.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Email\",\n            secondary: userInfo.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Registration Date\",\n            secondary: new Date(userInfo.register_at).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(DashboardPage, \"ksp6kmzpp7xN8Mgggv4r9jt+CEQ=\", false, function () {\n  return [useNavigate];\n});\n_c = DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Container","Box","Typography","Button","Avatar","Paper","List","ListItem","ListItemText","ListItemAvatar","Divider","axios","config","jsxDEV","_jsxDEV","DashboardPage","_s","_userInfo$username","userInfo","setUserInfo","error","setError","navigate","fetchUserInfo","response","get","apiBaseUrl","data","success","user","routes","login","err","handleLogout","post","localStorage","removeItem","authTokenKey","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","mt","display","justifyContent","variant","appName","color","onClick","p","gutterBottom","username","charAt","toUpperCase","primary","secondary","email","Date","register_at","toLocaleDateString","_c","$RefreshReg$"],"sources":["/workspace/mui_frontend/src/pages/DashboardPage.js"],"sourcesContent":["\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Box,\n  Typography,\n  Button,\n  Avatar,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemAvatar,\n  Divider\n} from '@mui/material';\nimport axios from 'axios';\nimport config from '../config/config';\n\nexport default function DashboardPage() {\n  const [userInfo, setUserInfo] = useState(null);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(`${config.apiBaseUrl}/auth_api.php?action=user_info`);\n        if (response.data.success) {\n          setUserInfo(response.data.user);\n        } else {\n          navigate(config.routes.login);\n        }\n      } catch (err) {\n        navigate(config.routes.login);\n      }\n    };\n    fetchUserInfo();\n  }, [navigate]);\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(`${config.apiBaseUrl}/auth_api.php?action=logout`);\n      localStorage.removeItem(config.authTokenKey);\n      navigate(config.routes.login);\n    } catch (err) {\n      setError('Logout failed');\n    }\n  };\n\n  if (!userInfo) return <div>Loading...</div>;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box sx={{ mt: 4, display: 'flex', justifyContent: 'space-between' }}>\n        <Typography variant=\"h4\">Welcome to {config.appName}</Typography>\n        <Button variant=\"contained\" color=\"error\" onClick={handleLogout}>\n          Logout\n        </Button>\n      </Box>\n      {error && <Typography color=\"error\">{error}</Typography>}\n      <Paper sx={{ mt: 4, p: 3 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          Your Profile\n        </Typography>\n        <Divider />\n        <List>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar>{userInfo.username?.charAt(0).toUpperCase()}</Avatar>\n            </ListItemAvatar>\n            <ListItemText primary=\"Username\" secondary={userInfo.username} />\n          </ListItem>\n          <ListItem>\n            <ListItemText primary=\"Email\" secondary={userInfo.email} />\n          </ListItem>\n          <ListItem>\n            <ListItemText primary=\"Registration Date\" secondary={new Date(userInfo.register_at).toLocaleDateString()} />\n          </ListItem>\n        </List>\n      </Paper>\n    </Container>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}